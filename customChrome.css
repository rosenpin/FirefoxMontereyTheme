@namespace xul url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul");

:root{
	--gnome-inactive-urlbar-box-shadow: 0 3px 5px rgba(0, 0, 0, 0.1);
  	--gnome-focused-urlbar-border-color: #dddddd;
    --gnome-tabbar-tab-color: #363636;
}

@namespace xul "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";

    /* Buttons Issues/Glitches fixes */
@namespace xul "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";

/* Overrides: Make the back button the same as other buttons */
:root:not([uidensity=compact]) #back-button {
	border-radius: var(--toolbarbutton-border-radius) !important;
}

:root:not([uidensity=compact]) #back-button>.toolbarbutton-icon {
	background-color: unset !important;
	border: unset !important;
	width: calc(2 * var(--toolbarbutton-inner-padding) + 16px) !important;
	height: calc(2 * var(--toolbarbutton-inner-padding) + 16px) !important;
	padding: var(--toolbarbutton-inner-padding) !important;
	border-radius: var(--toolbarbutton-border-radius);
	box-shadow: none !important;
}

:root:not([uidensity=compact]) #back-button:not([disabled]):not([open]):hover>.toolbarbutton-icon {
	background-color: var(--toolbarbutton-hover-background) !important;
	box-shadow: unset;
	border-color: unset;
}

:root:not([uidensity=compact]) #back-button[open]>.toolbarbutton-icon,
:root:not([uidensity=compact]) #back-button:not([disabled]):hover:active>.toolbarbutton-icon {
	background-color: var(--toolbarbutton-active-background) !important;
	border-color: unset;
}

/* Remove the header bar buttons' hover styles */
#nav-bar {
	--toolbarbutton-active-background: transparent !important;
	--toolbarbutton-hover-background: transparent !important;
}

/* Glitch customizing: Cut / Copy / Paste buttons' icons
 * :not(#hack) is there just to elevate rule priority */
:root[customizing] #nav-bar>hbox toolbaritem toolbarbutton image:not(#hack) {
	opacity: 1 !important;
}

/* Glitch customizing: Reload and Cut / Copy / Paste buttons */
:root:-moz-window-inactive[customizing] #nav-bar #stop-reload-button toolbarbutton,
:root:-moz-window-inactive[customizing] #nav-bar #edit-controls toolbarbutton {
	background-image: var(--gnome-inactive-button-background);
	box-shadow: var(--gnome-inactive-button-box-shadow);

}

/* Glitch customizing: Reload and Cut / Copy / Paste buttons' icons */
:root:-moz-window-inactive[customizing] #nav-bar #stop-reload-button image.toolbarbutton-icon,
:root:-moz-window-inactive[customizing] #nav-bar #edit-controls image.toolbarbutton-icon {
	opacity: .7 !important;
}

/* Glitch: Overflow and Burger buttons
 * :not(#hack) is there just to elevate rule priority */
:root[customizing] #nav-bar>toolbarbutton[disabled]:not(#hack),
:root[customizing] #nav-bar>toolbaritem>toolbarbutton[disabled]:not(#hack) {
	opacity: .5 !important;
}

/* Glitch: Overflow button's icon */
:root[customizing] #nav-bar toolbarbutton:not(#urlbar-zoom-button)[disabled] image {
	fill-opacity: var(--toolbarbutton-icon-fill-opacity) !important;
}

/* Bookmark buttons */
#nav-bar toolbarbutton.bookmark-item {
	width: auto !important;
}

#nav-bar toolbarbutton.bookmark-item .toolbarbutton-icon {
	margin-left: 6px;
}

#nav-bar toolbarbutton.bookmark-item .toolbarbutton-text {
	padding-right: 6px;
}

/* Remove Burger button's left separator */
#PanelUI-button {
	border: 0 !important;
	margin: 0 !important;
	padding-inline-start: 0 !important;
}

/* Space main menu button from other headerbar buttons
#nav-bar #PanelUI-menu-button:not(#hack) {
	margin-left: 10px !important;
}*/

/* Fix library animation */
#library-animatable-box {
	--library-button-height: 46px !important;
	--library-icon-x: 1716px !important;
	/*--library-icon-x: 1715.9833984375px !important;*/
}

#library-button[animate]>.toolbarbutton-icon {
	fill: transparent !important;
}

/* Fix toolbars close icons */
.close-icon:not(.tab-close-button) image {
	height: 16px !important;
	width: 16px !important;
	margin: 6px !important;
}

/* */
#appMenu-popup .panel-banner-item[notificationid="update-restart"]::after {
	display: none !important;
}

/* Identity site popover buttons */
.identity-popup-preferences-button:not(#hack) {
	list-style-image: url("chrome://browser/skin/settings.svg") !important;
}

#tracking-protection-preferences-button>.toolbarbutton-text {
	padding-inline-end: 0 !important;
}

.protections-popup-footer-button-label {
	margin-inline-start: 3px !important;
}

/* Fix findbar buttons issues */
.findbar-container .findbar-find-previous image,
.findbar-container .findbar-find-next image {
	margin: 6px !important;
	opacity: 1 !important;
}

.findbar-container toolbarbutton:focus {
	outline: 0 !important;
}

/* Sidebar header button reset font size */
#sidebar-header,
#sidebar-search-container,
#bookmarksPanel,
#history-panel,
#bookmarks-view-children,
#historyTree {
	font-size: 0.9em !important;
	background-color: var(--gnome-sidebar-background) !important;
	color: var(--gnome-sidebar-color) !important;
}

/* Sidebar header button arrow opacity */
#sidebar-switcher-arrow {
	opacity: 1 !important;
}

/* Sidebar history view */
#viewButton {
	margin: 0 !important;
	margin-inline-start: 6px !important;
}

/* Menulist */
menulist {
	-moz-appearance: none !important;
}

#identity-popup-popup-menulist {
	margin-right: 0 !important;
}

/* Bookmarks editor buttons */
.expander-down image,
.expander-up image {
	margin: 6px !important;
}

/* Identity popup tracking protection button */
.tracking-protection-button {
	margin-inline-end: 0 !important;
}

/* Identity popup delete permission button */
.identity-popup-permission-remove-button {
	opacity: 1 !important;
}

/* Identity popup expander button */
#identity-popup-security {
	-moz-box-align: center;
}

#identity-popup-security-expander {
	width: 34px !important;
}

#identity-popup-security-expander .button-icon {
	margin: 0 !important;
}

#tracking-protection-icon-container:hover:not([open="true"]), .identity-box-button:hover:not([open="true"]), .urlbar-page-action:not([disabled]):hover, #urlbar-go-button:hover, .search-go-button:hover, #identity-box[pageproxystate="valid"].extensionPage > .identity-box-button:hover:not([open]){
	--urlbar-box-hover-bgcolor: var(--gnome-button-hover-color) !important;
}
#identity-box[pageproxystate="valid"].extensionPage > .identity-box-button{
	background:var(--gnome-button-active-background) !important;
}



/* Header bar's URL bar */

@namespace xul "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";

#urlbar {
	--urlbar-height: 32.00px;
	--urlbar-toolbar-height: 32.00px !important;
}
/* Centre URL bar text input*/
#urlbar-input {
	transition: transform .1s linear;
	transform: translateX(50%);
	top: 4px;
	position: absolute;
	width: 50%;
	text-align: center !important;
}
/* Unless text input is selected like safari*/
#urlbar[focused] #urlbar-input {
	position: absolute;
	transform: translateX(0);
	transition: all .2s ease;
	width: 100%;
	text-align: left !important;
	;
}

/* Center the URL bar */
toolbarspring {
	max-width: 10000px !important;
}

/* URL bar */
#urlbar {
	box-shadow: none !important;
	background: var(--gnome-popover-background) !important;
	border-radius: 8px !important;
	opacity: 0.8 !important;
	filter: saturate(0%) !important;
	transition: opacity 0.4s !important;
}
#urlbar:hover,
#urlbar[focused]{
	opacity: 1 !important;
	filter: saturate(100%) !important;

}
#urlbar-background {
	box-shadow: none !important;
	border: 0 !important;
	background: transparent !important;
	border-radius: 8px !important;
}

#urlbar[breakout][breakout-extend] {
	left: 0 !important;
	top: 0 !important;
	width: 100% !important;
	z-index: 5 !important;
	padding: 0 !important;
}
#urlbar[breakout][breakout-extend][open] {
	height: auto !important;
	max-height: unset !important;
}
#urlbar[breakout][breakout-extend] #urlbar-input-container {
	height: 32px !important;
	max-height: 32px !important;
	padding: 0 !important;
}

#urlbar[breakout][breakout-extend][open] #urlbar-background {
	box-shadow: var(--gnome-urlbar-box-shadow) !important;
}

/* URL bar results */
.urlbarView {
	background: transparent !important;
	color: var(--gnome-toolbar-color) !important;
	margin: -2px 0 0 0 !important;
	width: 100% !important;
}

.urlbarView-body-outer {
	--item-padding-start: 0 !important;
	--item-padding-end: 0 !important;
	max-height: 40vh !important;
	overflow-x: auto;
	padding: 0 8px !important;
}

.urlbarView-body-inner {
	border: 0 !important;
}

.urlbarView-row-inner, .urlbarView-no-wrap  {
	align-items: center !important;
}
.urlbarView-row-inner {
	padding-block: 5px !important;
	border-radius: 5px !important;
}

/* Search engines buttons */
.search-one-offs {
	margin-top: 6px !important;
	margin-bottom: 2px !important;
	padding: 8px !important;
	background: var(--gnome-popover-background) !important;
	border-top: 1px solid var(--gnome-entry-border-color) !important;
	border-radius: 0 0 5px 5px !important;
}

.searchbar-engine-one-off-item {
	--toolbarbutton-active-background: transparent !important;
	--toolbarbutton-hover-background: transparent !important;
	-moz-appearance: none !important;
	background: var(--gnome-button-background) !important;
	box-shadow: var(--gnome-button-box-shadow) !important;
	border: 1px solid var(--gnome-button-border-color) !important;
	border-left-width: 0 !important;
	border-bottom-color: var(--gnome-button-border-accent-color) !important;
	padding: 0 2px !important;
	min-height: 34px !important;
	min-width: 34px !important;
	margin: 0 !important;
}
.searchbar-engine-one-off-item:hover, .searchbar-engine-one-off-item[selected] {
	background: var(--gnome-button-hover-background) !important;
	color: unset !important;
}
.searchbar-engine-one-off-item:first-child {
	border-radius: 5px 0 0 5px;
	border-left-width: 1px !important;
}
.searchbar-engine-one-off-item.last-engine, .searchbar-engine-one-off-item:last-child {
	border-radius: 0 5px 5px 0;
}

#urlbar-anon-search-settings-compact {
	border-left-width: 1px !important;
	border-bottom: 1px solid var(--gnome-button-border-accent-color) !important;
	border-radius: 5px;
	margin-left: 6px !important;
}

/* URL bar and Search bar */
#urlbar[focused] .urlbar-textbox-container {
	margin: -1px !important;
}
#searchbar > .searchbar-textbox[focused] .searchbar-search-button {
	margin-left: -1px !important;
}
#searchbar > .searchbar-textbox[focused] .search-go-button {
	margin-right: -1px !important;
}

/* URL bar and Search bar's icons */
.urlbar-icon:hover,
.urlbar-icon-wrapper:hover,
.urlbar-icon[open],
.urlbar-icon-wrapper[open],
.urlbar-icon:hover:active,
.urlbar-icon-wrapper:hover:active,
.searchbar-search-button:hover .searchbar-search-icon,
.searchbar-search-button[open] .searchbar-search-icon,
.searchbar-search-button:hover:active .searchbar-search-icon {
	background-color: transparent !important;
	fill-opacity: 1 !important;
}
.urlbar-icon {
	height: 16px !important;
	width: 16px !important;
	margin-inline: 4px !important;
	padding: 8px 0 !important;
}
/* Fix for firefox v92 onwards that changed icon size on MacOS*/
.urlbar-page-action {
padding: inherit !important;
}




 :root[tabsintitlebar][inFullscreen] #window-controls{
    right: 18px !important;
    top: 2px !important;
 }
/* Give padding to the close bar */
#nav-bar {
    padding-left: 96px !important;
    padding-right: 10px !important;
}
/* If arrangement of close is to be Min Max Close*/
.titlebar-close {
    -moz-box-ordinal-group: 1 !important;
}

/* fix fullscreen issue on window TBCs*/
:root[tabsintitlebar][inFullscreen] #window-controls .minimize-button, :root[tabsintitlebar][inFullscreen] #window-controls .close-button{
    display:none !important;
}

/* adjust positioning of exit fullscreen button */
:root[tabsintitlebar][inFullscreen] #window-controls {
    right: 18px !important;
    top: 2px !important;
}
:root[tabsintitlebar][inFullscreen] #nav-bar {
    padding-left: 82px !important;
  }

  :root[tabsintitlebar][inFullscreen]  #titlebar .titlebar-buttonbox-container{
    -moz-box-ordinal-group: 1000 !important;
    }
